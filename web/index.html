<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Isobutane Fuel Canister Transfer Calculator</title>
  <link rel="stylesheet" href="./dist/app.css">
</head>
<body>
  <div class="shell">
    <header>
      <p>Have too many partially used MSR canisters? Want to minimize the weight and time it takes to consolidate them?</p>
      <p>Enter the gross weight of all your canisters below and the optimal plan will be calculated for you.</p>
    </header>
    <form id="pack-form">
      <div class="columns" id="columns">
        <div class="column" data-spec="msr110">
          <h2>MSR 110g</h2>
          <p class="hint">Capacity: 110g • Empty: 101g</p>
          <div class="cells" data-spec="msr110">
            <div class="cell">
              <input type="number" name="gross_msr110_0" placeholder="Gross weight (g)" min="0" step="1">
            </div>
          </div>
        </div>
        <div class="column" data-spec="msr227">
          <h2>MSR 227g</h2>
          <p class="hint">Capacity: 227g • Empty: 147g</p>
          <div class="cells" data-spec="msr227">
            <div class="cell">
              <input type="number" name="gross_msr227_0" placeholder="Gross weight (g)" min="0" step="1">
            </div>
          </div>
        </div>
        <div class="column" data-spec="msr450">
          <h2>MSR 450g</h2>
          <p class="hint">Capacity: 450g • Empty: 216g</p>
          <div class="cells" data-spec="msr450">
            <div class="cell">
              <input type="number" name="gross_msr450_0" placeholder="Gross weight (g)" min="0" step="1">
            </div>
          </div>
        </div>
      </div>
      <template id="cell-template">
        <div class="cell">
          <input type="number" placeholder="Gross weight (g)" min="0" step="1">
        </div>
      </template>
      <div class="status" id="status">Ready</div>
      <div class="input-errors" id="input-errors" data-visible="false">
        <div class="error-msg" data-error="overflow">Gross weight exceeds that can’s capacity.</div>
        <div class="warn-msg" data-error="underflow">Gross weight is below the empty can weight.</div>
      </div>
    </form>
    <div class="results" id="results" data-visible="false">
      <div class="graph-panel">
        <div class="graph-headers">
          <div>Donors</div>
          <div aria-hidden="true"></div>
          <div>Recipients</div>
        </div>
        <div class="graph-grid">
          <div class="node-column" id="donor-column"></div>
          <div class="spacer" aria-hidden="true"></div>
          <div class="node-column" id="recipient-column"></div>
        </div>
        <svg id="graph-svg"></svg>
      </div>
      <pre class="output" id="output"></pre>
    </div>
  </div>
  <script type="module" src="./dist/app.js"></script>
</body>
</html>
