<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Calculate the optimal way to consolidate mixed isobutane fuel canisters—pick your can types and minimize the empty weight you carry.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://fuel.for.alienz.org/">
  <link rel="icon" type="image/png" sizes="32x32" href="./dist/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./dist/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="./dist/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="./dist/favicon-192x192.png">
  <link rel="shortcut icon" href="./favicon.ico">
  <meta property="og:title" content="Fuel Canister Transfer Calculator">
  <meta property="og:description" content="Enter gross weights for your isobutane canisters, choose their types, and get an optimal transfer plan to minimize pack weight.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://fuel.for.alienz.org/">
  <meta property="og:image" content="https://fuel.for.alienz.org/dist/social-card.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:type" content="image/jpeg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Fuel Canister Transfer Calculator">
  <meta name="twitter:description" content="Optimize isobutane fuel transfers across the can sizes you have and carry fewer cans.">
  <meta name="twitter:image" content="https://fuel.for.alienz.org/dist/social-card.jpg">
  <meta name="theme-color" content="#f2f2f2">
  <title>Isobutane Fuel Canister Transfer Calculator</title>
  <link rel="stylesheet" href="./dist/app.css">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Fuel Canister Transfer Calculator",
      "applicationCategory": "Utility",
      "operatingSystem": "Web",
      "description": "Calculate the optimal transfer plan for mixed isobutane fuel canisters—select your can types and minimize weight.",
      "url": "https://fuel.for.alienz.org/",
      "image": "https://fuel.for.alienz.org/dist/social-card.jpg",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock",
        "url": "https://fuel.for.alienz.org/"
      }
    }
  </script>
</head>
<body>
  <div class="shell">
    <header>
      <h1>Fuel Canister Transfer Calculator</h1>
      <p>Have too many partially used canisters? Choose their types, enter gross weights, and let the solver minimize what you carry.</p>
      <p>Pick a can type for each column below, then type the gross weights of every can you have.</p>
    </header>
    <section class="info" aria-labelledby="how-to" hidden>
      <h2 id="how-to">How to use the calculator</h2>
      <p>Supported sizes: any isobutane canisters you add to the list (defaults include MSR 110g/227g/450g). Gross weight = can weight + remaining fuel.</p>
      <ul>
        <li>Select the can type for each column, then type the gross weight (in grams) of each can you have.</li>
        <li>Use “Add column” to track extra can families or remove a column you don't need.</li>
        <li>The solver finds an optimal transfer plan that reduces total cans carried and empty weight.</li>
        <li>See a donor/recipient graph, exact gram transfers, and total carry weight once inputs are valid.</li>
      </ul>
      <p class="muted">Tip: Values lighter than an empty can or heavier than its capacity are flagged so you can correct typos quickly.</p>
    </section>
    <form id="pack-form">
      <div class="columns" id="columns">
      </div>
      <template id="column-template">
        <div class="column" data-spec="">
          <div class="column-head">
            <label class="spec-picker">
              <span class="sr-only">Can type</span>
              <select data-part="spec-select"></select>
            </label>
            <button type="button" class="ghost-btn remove-column" aria-label="Remove column">×</button>
          </div>
          <p class="hint" data-part="hint"></p>
          <div class="cells" data-spec=""></div>
        </div>
      </template>
      <template id="cell-template">
        <div class="cell">
          <input type="number" placeholder="Gross weight (g)" min="0" step="1">
        </div>
      </template>
      <div class="input-errors" id="input-errors" data-visible="false">
        <div class="error-msg" data-error="overflow">Gross weight exceeds that can’s capacity.</div>
        <div class="warn-msg" data-error="underflow">Gross weight is below the empty can weight.</div>
      </div>
    </form>
    <div class="results" id="results" data-visible="false">
      <div class="graph-panel">
        <div class="graph-headers">
          <div>Donors</div>
          <div aria-hidden="true"></div>
          <div>Recipients</div>
        </div>
        <div class="graph-grid">
          <div class="node-column" id="donor-column"></div>
          <div class="spacer" aria-hidden="true">
            <svg id="graph-svg"></svg>
          </div>
          <div class="node-column" id="recipient-column"></div>
        </div>
      </div>
      <div class="solution" id="solution">
        <div class="solution-grid">
          <div class="solution-card">
            <h3>Cans to keep</h3>
            <ul class="solution-list" id="keep-list"></ul>
          </div>
          <div class="solution-card">
            <h3>Transfers</h3>
            <ul class="solution-list" id="transfer-list"></ul>
          </div>
          <div class="solution-card">
            <h3>Totals</h3>
            <ul class="solution-list" id="totals-list"></ul>
          </div>
        </div>
      </div>
    </div>
    <div class="status-row" id="status-row" data-state="idle" role="status" aria-live="polite">
      <div class="status-icon" id="status-icon" aria-hidden="true"></div>
      <div class="status-text" id="status-text">Ready</div>
    </div>
  </div>
  <script type="module" src="./dist/app.js"></script>
</body>
</html>
